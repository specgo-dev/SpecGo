{# SPDX-License-Identifier: Apache-2.0 #}
{# Copyright (c) 2026 Ce Xu (Dylan) #}
/* Generated by SpecGo. DO NOT EDIT. */
#ifndef {{ header_guard }}
#define {{ header_guard }}

#include <stddef.h>
#include <stdint.h>

#ifdef __cplusplus
extern "C" {
#endif

typedef enum {
    SPECGO_OK = 0,
    SPECGO_ERR_NULL = -1,
    SPECGO_ERR_SIZE = -2,
    SPECGO_ERR_RANGE = -3
} specgo_status_t;

{% for msg in messages %}
enum {
    {{ msg.id_macro }} = {{ msg.id }}
};

enum {
    {{ msg.dlc_macro }} = {{ msg.dlc }}
};

typedef struct {
{% for sig in msg.signals %}
    {{ sig.c_type }} {{ sig.c_name }}; /* raw value, start={{ sig.start_bit }}, bits={{ sig.bit_length }}, order={{ sig.byte_order }}, scale={{ sig.scale }}, offset={{ sig.offset }} */
{% endfor %}
} {{ msg.struct_name }};

int {{ msg.encode_fn }}(uint8_t *out_payload, size_t out_size, const {{ msg.struct_name }} *in);
int {{ msg.decode_fn }}(const uint8_t *payload, size_t payload_size, {{ msg.struct_name }} *out);

{% endfor %}
#ifdef __cplusplus
}
#endif

#endif /* {{ header_guard }} */
